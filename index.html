
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IOE K8 - LUY·ªÜN NGHE C·∫§P HUY·ªÜN (100 C√ÇU)</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
      body { font-family: 'Nunito', sans-serif; scroll-behavior: smooth; overflow-x: hidden; }
      .custom-scrollbar::-webkit-scrollbar { width: 6px; }
      .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; }
      .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
      
      @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
      
      .btn-active:active { transform: scale(0.95); }
      .answer-underline {
        text-decoration-color: #fca5a5;
        text-decoration-thickness: 4px;
        text-underline-offset: 4px;
      }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const QuestionType = {
            MC: 'MULTIPLE_CHOICE',
            FIB: 'FILL_IN_BLANK'
        };

        // --- B·ªò D·ªÆ LI·ªÜU 100 C√ÇU H·ªéI ---
        const QUIZ_DATA = [
            // Segment 1 (1-20)
            { id: 1, type: QuestionType.FIB, text: "There aren‚Äôt any _ _ _ _ _ at all in the village where we used to live.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_42.mp3", answer: "buses", explain: "Buses: Xe bu√Ωt." },
            { id: 2, type: QuestionType.FIB, text: "People are open, plain and _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_35.mp3", answer: "frank", explain: "Frank: Th·∫≥ng th·∫Øn." },
            { id: 3, type: QuestionType.FIB, text: "Would you like to p_ _ _ _ a portrait of me?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s1.mp3", answer: "aint", explain: "Paint: V·∫Ω." },
            { id: 4, type: QuestionType.FIB, text: "Some el_ _ _ _ nts live in the mountains.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s8.mp3", answer: "epha", explain: "Elephants: Nh·ªØng con voi." },
            { id: 5, type: QuestionType.FIB, text: "My father uses YouTube to watch _ _ _ _ _ _ _ shows.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s6.mp3", answer: "cooking", explain: "Cooking: N·∫•u ƒÉn." },
            { id: 6, type: QuestionType.FIB, text: "We are surrounded by green _ _ _ _ _ _ , flowers and trees.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_34.mp3", answer: "fields", explain: "Fields: C√°nh ƒë·ªìng." },
            { id: 7, type: QuestionType.FIB, text: "Lang Son province has 12 education centers offering _ _ _ _ _ _ language classes, mostly Tay and Nung.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_43.mp3", answer: "ethnic", explain: "Ethnic: D√¢n t·ªôc." },
            { id: 8, type: QuestionType.MC, text: "The man's watch is ________.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_23.mp3", options: ["in the kitchen", "in the washing machine", "on the bed", "on the bath"], answer: "on the bath", explain: "ƒê·ªìng h·ªì ·ªü tr√™n b·ªìn t·∫Øm." },
            { id: 9, type: QuestionType.FIB, text: "I'm enjoying a peaceful _ _ _ _ _ _ _ _ _ a lot more than the busy city life.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_21.mp3", answer: "lifestyle", explain: "Lifestyle: Phong c√°ch s·ªëng." },
            { id: 10, type: QuestionType.FIB, text: "Please _ _ _ _ off the fans when you go out.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis1s14.mp3", answer: "turn", explain: "Turn off: T·∫Øt." },
            { id: 11, type: QuestionType.FIB, text: "A festival adds structure to our social lives and connects us with our families and _ _ _ _ _ _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_92.mp3", answer: "backgrounds", explain: "Backgrounds: N·ªÅn t·∫£ng." },
            { id: 12, type: QuestionType.FIB, text: "My first lesson this morning was _ _ _ , and our teacher talked to us about Pablo Picasso.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s21.mp3", answer: "Art", explain: "Art: M·ªπ thu·∫≠t." },
            { id: 13, type: QuestionType.FIB, text: "If we're going the right way, we'll drive past the _ _ _ _ _ station soon.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s26.mp3", answer: "train", explain: "Train station: Ga t√†u." },
            { id: 14, type: QuestionType.FIB, text: "He's good at bu_ _ _ _ _ _ things.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s24.mp3", answer: "ilding", explain: "Building: X√¢y d·ª±ng." },
            { id: 15, type: QuestionType.FIB, text: "The La Chi ethnic people in Nam Khanh commune have upheld a lot of traditional culture and production, including growing cotton and _ _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_108.mp3", answer: "weaving", explain: "Weaving: D·ªát v·∫£i." },
            { id: 16, type: QuestionType.FIB, text: "It was t_ _ _ _ _ degrees yesterday so it was much too hot inside.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s27.mp3", answer: "hirty", explain: "Thirty degrees: 30 ƒë·ªô." },
            { id: 17, type: QuestionType.FIB, text: "My parents will be at home the night I want my _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s25.mp3", answer: "party", explain: "Party: B·ªØa ti·ªác." },
            { id: 18, type: QuestionType.FIB, text: "One of the biggest problems we face is _ _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_106.mp3", answer: "garbage", explain: "Garbage: R√°c th·∫£i." },
            { id: 19, type: QuestionType.MC, text: "How many pandas were born?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_120.mp3", options: ["six", "twenty", "two", "twice"], answer: "two", explain: "ƒê√°p √°n: two." },
            { id: 20, type: QuestionType.FIB, text: "The River Thames in London was one of the worst-_ _ _ _ _ _ _ _ rivers in the study.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_59.mp3", answer: "affected", explain: "Affected: B·ªã ·∫£nh h∆∞·ªüng." },

            // Segment 2 (21-40)
            { id: 21, type: QuestionType.FIB, text: "She likes _ _ _ _ _ _ sports such as swimming and hiking.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_18.mp3", answer: "summer", explain: "Summer: M√πa h√®." },
            { id: 22, type: QuestionType.FIB, text: "Would you like to p_ _ _ _ a portrait of me?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s1.mp3", answer: "aint", explain: "Paint: V·∫Ω." },
            { id: 23, type: QuestionType.FIB, text: "Parents and children can spend time enjoying the same hobby and build a closer r_ _ _ _ _ _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_16.mp3", answer: "elationship", explain: "Relationship: M·ªëi quan h·ªá." },
            { id: 24, type: QuestionType.FIB, text: "I don‚Äôt mind spending my free time alone _ _ _ _ _ _ _ or surfing the Internet.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_8.mp3", answer: "reading", explain: "Reading: ƒê·ªçc s√°ch." },
            { id: 25, type: QuestionType.FIB, text: "At the age of 80 he still remembers by heart several stories about the old Then m_ _ _ _ _ _ _ of the Tay.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_51.mp3", answer: "elodies", explain: "Melodies: Giai ƒëi·ªáu." },
            { id: 26, type: QuestionType.FIB, text: "Students learn reading and listening through topics and traditional _ _ _ _ _ _ _ and customs.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_44.mp3", answer: "culture", explain: "Culture: VƒÉn h√≥a." },
            { id: 27, type: QuestionType.FIB, text: "Lucy seldom has lunch at _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s11.mp3", answer: "home", explain: "Home: Nh√†." },
            { id: 28, type: QuestionType.FIB, text: "People in my village are really _ _ _ _ -hearted.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s4.mp3", answer: "kind", explain: "Kind: T·ªët b·ª•ng." },
            { id: 29, type: QuestionType.FIB, text: "They have a _ _ _ _ cultural life with a number of age-old festivals and customs.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_48.mp3", answer: "rich", explain: "Rich: Phong ph√∫." },
            { id: 30, type: QuestionType.FIB, text: "The man can't teach his classes because his _ _ _ _ is bad again.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_6.mp3", answer: "back", explain: "Back: C√°i l∆∞ng." },
            { id: 31, type: QuestionType.FIB, text: "Before New Year‚Äôs day, people go shopping for food and drinks, repair the house or put up _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_88.mp3", answer: "decor", explain: "Decor: Trang tr√≠." },
            { id: 32, type: QuestionType.FIB, text: "Village life is free from all rest_ _ _ _ _ _ of society.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_65.mp3", answer: "raints", explain: "Restraints: R√†ng bu·ªôc." },
            { id: 33, type: QuestionType.FIB, text: "I can't come. It's my _ _ _ _ _ _ 's birthday.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis1s23.mp3", answer: "sister", explain: "Sister: Ch·ªã/Em g√°i." },
            { id: 34, type: QuestionType.FIB, text: "What do people do to _ _ _ _ _ _ _ for the festival?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_87.mp3", answer: "prepare", explain: "Prepare: Chu·∫©n b·ªã." },
            { id: 35, type: QuestionType.FIB, text: "We regularly organize field trips for students to _ _ _ _ _ _ _ _ _ _ _ with ethnic people to better understand their culture, customs, and habits.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_69.mp3", answer: "communicate", explain: "Communicate: Giao ti·∫øp." },
            { id: 36, type: QuestionType.FIB, text: "_ _ _ _ _ _ _ _ _ can join the festival.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_89.mp3", answer: "Everybody", explain: "Everybody: M·ªçi ng∆∞·ªùi." },
            { id: 37, type: QuestionType.FIB, text: "If there's a problem, I'm called from my of_ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis3s23.mp3", answer: "fice", explain: "Office: VƒÉn ph√≤ng." },
            { id: 38, type: QuestionType.FIB, text: "New Year‚Äôs day is a chance for family _ _ _ _ _ _ _ and parties.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_84.mp3", answer: "reunion", explain: "Reunion: Sum h·ªçp." },
            { id: 39, type: QuestionType.MC, text: "What does Lara do in her free time?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_112.mp3", options: ["cooking", "gardening", "painting", "both B and C"], answer: "both B and C", explain: "ƒê√°p √°n: both B and C." },
            { id: 40, type: QuestionType.MC, text: "The stonecutter wishes he would be a ____.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_118.mp3", options: ["poor servant", "rich man", "powerful king", "prince"], answer: "prince", explain: "ƒê√°p √°n: prince." },

            // Segment 3 (41-60)
            { id: 41, type: QuestionType.FIB, text: "Bonfire Night is celebrated on _ _ _ _ _ _ _ _ 5.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_52.mp3", answer: "november", explain: "Th√°ng 11." },
            { id: 42, type: QuestionType.FIB, text: "I grew up in the country in a very small farm and it was kind of _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_22.mp3", answer: "boring", explain: "Boring: Nh√†m ch√°n." },
            { id: 43, type: QuestionType.FIB, text: "Lan usually buys food in the super_ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis1s11.mp3", answer: "market", explain: "Supermarket: Si√™u th·ªã." },
            { id: 44, type: QuestionType.FIB, text: "_ _ _ _ _ _ oes and pigs live on the farm.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s8.mp3", answer: "Buffal", explain: "Buffaloes: Nh·ªØng con tr√¢u." },
            { id: 45, type: QuestionType.FIB, text: "Stamp collecting can help build _ _ _ _ _ _ _ _ _ _ s between people from around the world.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_15.mp3", answer: "friendship", explain: "Friendship: T√¨nh h·ªØu ngh·ªã." },
            { id: 46, type: QuestionType.FIB, text: "It is interesting to learn about the people and things that are pictured on the _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_14.mp3", answer: "stamps", explain: "Stamps: Nh·ªØng con tem." },
            { id: 47, type: QuestionType.FIB, text: "People in my village are really _ _ _ _ -hearted.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s4.mp3", answer: "kind", explain: "Kind-hearted: T·ªët b·ª•ng." },
            { id: 48, type: QuestionType.FIB, text: "The band uses his dad's _ _ _ _ _ _ because his bedroom's too small.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_11.mp3", answer: "garage", explain: "Garage: Nh√† ƒë·ªÉ xe." },
            { id: 49, type: QuestionType.FIB, text: "People in my village are really hospi_ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis3s4.mp3", answer: "table", explain: "Hospitable: Hi·∫øu kh√°ch." },
            { id: 50, type: QuestionType.FIB, text: "The city is much more _ _ _ _ _ _ _ _ and a lot more to do and see and experience.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_23.mp3", answer: "exciting", explain: "Exciting: Th√∫ v·ªã." },
            { id: 51, type: QuestionType.FIB, text: "I had a back injury a few years ago, so I‚Äôm not as _ _ _ _ _ _ as I used to be.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_61.mp3", answer: "active", explain: "Active: NƒÉng ƒë·ªông." },
            { id: 52, type: QuestionType.FIB, text: "Mrs. Bright made us wear special gl_ _ _ _ _ so that we wouldn't hurt our eyes.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis1s22.mp3", answer: "asses", explain: "Glasses: Nh·ªØng chi·∫øc k√≠nh." },
            { id: 53, type: QuestionType.FIB, text: "I have heard the weather will be _ _ _ _ _ these days.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis3s20.mp3", answer: "sunny", explain: "Sunny: C√≥ n·∫Øng." },
            { id: 54, type: QuestionType.FIB, text: "Scientists say that a new kind of robot can re_ _ _ _ _ _ _ - it can create baby robots.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_45.mp3", answer: "produce", explain: "Reproduce: Sinh s·∫£n." },
            { id: 55, type: QuestionType.FIB, text: "Do you have a nice co_ _ _ _ _ as you're the star of the show?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis1s24.mp3", answer: "stume", explain: "Costume: Trang ph·ª•c." },
            { id: 56, type: QuestionType.FIB, text: "I don't have to show my passport or my driving _ _ _ _ nce, do I?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_54.mp3", answer: "lice", explain: "Licence: Gi·∫•y ph√©p." },
            { id: 57, type: QuestionType.FIB, text: "Being able to _ _ _ _ _ _ _ _ _ _ and use ethnic languages in daily life is very useful for their work.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_70.mp3", answer: "understand", explain: "Understand: Hi·ªÉu bi·∫øt." },
            { id: 58, type: QuestionType.FIB, text: "The New Year‚Äôs day is celebrated all over the _ _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_86.mp3", answer: "country", explain: "Country: ƒê·∫•t n∆∞·ªõc." },
            { id: 59, type: QuestionType.MC, text: "The rock, paper, scissors world championship was first held in ____.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_111.mp3", options: ["1394", "1934", "1945", "1954"], answer: "1934", explain: "ƒê√°p √°n: 1934." },
            { id: 60, type: QuestionType.FIB, text: "The _ _ _ _ _ _ _ _ _ _ s say the worst-hit rivers are in western Europe and North America.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_56.mp3", answer: "researcher", explain: "Researchers: C√°c nh√† nghi√™n c·ª©u." },

            // Segment 4 (61-80)
            { id: 61, type: QuestionType.FIB, text: "There aren‚Äôt any _ _ _ _ _ at all in the village where we used to live.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_42.mp3", answer: "buses", explain: "Xe bu√Ωt." },
            { id: 62, type: QuestionType.FIB, text: "He'd like to buy a kum_ _ _ _ tree.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s9.mp3", answer: "quat", explain: "Kumquat: C√¢y qu·∫•t." },
            { id: 63, type: QuestionType.FIB, text: "Live_ _ _ _ _ are the animals we keep on a farm.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis1s7.mp3", answer: "stock", explain: "Livestock: Gia s√∫c." },
            { id: 64, type: QuestionType.FIB, text: "You can feel completely _ _ _ _ in the countryside.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_28.mp3", answer: "safe", explain: "Safe: An to√†n." },
            { id: 65, type: QuestionType.FIB, text: "I don‚Äôt mind spending my free time alone _ _ _ _ _ _ _ or surfing the Internet.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_8.mp3", answer: "reading", explain: "Reading: ƒê·ªçc s√°ch." },
            { id: 66, type: QuestionType.FIB, text: "In the country, we are close to _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_33.mp3", answer: "nature", explain: "Nature: Thi√™n nhi√™n." },
            { id: 67, type: QuestionType.FIB, text: "What _ _ _ _ _ l media does Taylor use?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis3s5.mp3", answer: "socia", explain: "Social: X√£ h·ªôi." },
            { id: 68, type: QuestionType.FIB, text: "Some el_ _ _ _ nts live in the mountains.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s8.mp3", answer: "epha", explain: "Elephants: Nh·ªØng con voi." },
            { id: 69, type: QuestionType.FIB, text: "Would you like to l_ _ _ me your chessboard?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis3s1.mp3", answer: "end", explain: "Lend: M∆∞·ª£n." },
            { id: 70, type: QuestionType.FIB, text: "You should _ _ _ _ _ your mouth when you cough or sneeze.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_58.mp3", answer: "cover", explain: "Cover: Che mi·ªáng." },
            { id: 71, type: QuestionType.FIB, text: "I had a back injury a few years ago, so I‚Äôm not as _ _ _ _ _ _ as I used to be.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_61.mp3", answer: "active", explain: "Active: NƒÉng ƒë·ªông." },
            { id: 72, type: QuestionType.FIB, text: "_ _ _ _ _ _ _ _ _ can join the festival.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_89.mp3", answer: "Everybody", explain: "Everybody: M·ªçi ng∆∞·ªùi." },
            { id: 73, type: QuestionType.FIB, text: "Scientists say that a new kind of robot can re_ _ _ _ _ _ _ - it can create baby robots.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_45.mp3", answer: "produce", explain: "Produce: Sinh s·∫£n." },
            { id: 74, type: QuestionType.FIB, text: "The river smelled bad because of all sorts of _ _ _ _ _ _ _ _ _ and waste in the water.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_105.mp3", answer: "chemicals", explain: "Chemicals: H√≥a ch·∫•t." },
            { id: 75, type: QuestionType.FIB, text: "The stonecutter and his wife didn‚Äôt have much _ _ _ _ _ , but they were happy together.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_98.mp3", answer: "money", explain: "Money: Ti·ªÅn." },
            { id: 76, type: QuestionType.FIB, text: "On New Year's Eve, people have a party with _ _ _ _ _ _ _ _ _ _ _ food and drinks.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_90.mp3", answer: "traditional", explain: "Traditional: Truy·ªÅn th·ªëng." },
            { id: 77, type: QuestionType.FIB, text: "I got everything I remembered. Milk, bread, veg_ _ _ _ _ _ _ , and the newspaper.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis1s26.mp3", answer: "etables", explain: "Vegetables: Rau c·ªß." },
            { id: 78, type: QuestionType.FIB, text: "It'll be really _ _ _ _ _ as we're going as a group.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s20.mp3", answer: "cheap", explain: "Cheap: R·∫ª." },
            { id: 79, type: QuestionType.FIB, text: "He added that rivers in many rich nations are unrecognisable _ _ _ _ _ _ _ _ with how they were 200 years ago.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_58.mp3", answer: "compared", explain: "Compared: So v·ªõi." },
            { id: 80, type: QuestionType.MC, text: "What is their new meeting time?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis3s29.mp3", options: ["9 a.m.", "12 a.m.", "1 p.m.", "11 a.m."], answer: "9 a.m.", explain: "9 a.m." },

            // Segment 5 (81-100)
            { id: 81, type: QuestionType.FIB, text: "The city is much more _ _ _ _ _ _ _ _ and a lot more to do and see and experience.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_23.mp3", answer: "exciting", explain: "Exciting: H√†o h·ª©ng." },
            { id: 82, type: QuestionType.MC, text: "The man's watch is ________.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_23.mp3", options: ["in the kitchen", "in the washing machine", "on the bath", "on the bed"], answer: "on the bath", explain: "on the bath." },
            { id: 83, type: QuestionType.FIB, text: "There‚Äôs so much _ _ _ _ _ _ _ here these days.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_24.mp3", answer: "traffic", explain: "Traffic: Giao th√¥ng." },
            { id: 84, type: QuestionType.FIB, text: "The preservation and promotion of Then singing is a major _ _ _ _ _ _ _ of Then artists.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_50.mp3", answer: "concern", explain: "Concern: M·ªëi quan t√¢m." },
            { id: 85, type: QuestionType.FIB, text: "My parents go j_ _ _ _ _ _ in the park almost every morning.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s2.mp3", answer: "ogging", explain: "Jogging: Ch·∫°y b·ªô." },
            { id: 86, type: QuestionType.FIB, text: "This city is so _ _ _ _ _ _ at night.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_27.mp3", answer: "boring", explain: "Boring: Nh√†m ch√°n." },
            { id: 87, type: QuestionType.FIB, text: "We can pick up _ _ _ _ er in the playground after school.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s13.mp3", answer: "litt", explain: "Litter: R√°c." },
            { id: 88, type: QuestionType.FIB, text: "The _ _ _ _ _ _ _ show begins at 2.15 every afternoon.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_13.mp3", answer: "dolphin", explain: "Dolphin: C√° heo." },
            { id: 89, type: QuestionType.FIB, text: "My uncle uses Google Drive to save _ _ _ _ _ _ es.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s6.mp3", answer: "pictur", explain: "Pictures: Nh·ªØng b·ª©c tranh." },
            { id: 90, type: QuestionType.FIB, text: "She doesn't like the _ _ _ _ in the city.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_26.mp3", answer: "mall", explain: "Mall: Trung t√¢m mua s·∫Øm." },
            { id: 91, type: QuestionType.FIB, text: "The girl has _ _ _ _ _ lessons until late every Friday.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s16.mp3", answer: "dance", explain: "Dance: Nh·∫£y m√∫a." },
            { id: 92, type: QuestionType.FIB, text: "She's going to _ _ _ _ a song.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s24.mp3", answer: "sing", explain: "Sing: H√°t." },
            { id: 93, type: QuestionType.FIB, text: "The lucky winner will win a three-night stay, for two people, in the wonderful _ _ _ _ _ _ _ _ countryside.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_41.mp3", answer: "Scottish", explain: "Scottish: V√πng Scotland." },
            { id: 94, type: QuestionType.FIB, text: "The cultural identities has contributed to _ _ _ _ _ _ _ fying tourism products.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_76.mp3", answer: "diversi", explain: "Diversifying: ƒêa d·∫°ng h√≥a." },
            { id: 95, type: QuestionType.FIB, text: "The things people do on the first day will bring luck and _ _ _ _ _ _ rity to them.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_91.mp3", answer: "prospe", explain: "Prosperity: Th·ªãnh v∆∞·ª£ng." },
            { id: 96, type: QuestionType.FIB, text: "I'm going to wear my _ _ _ _ s.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s18.mp3", answer: "jean", explain: "Jeans: Qu·∫ßn jean." },
            { id: 97, type: QuestionType.FIB, text: "I got everything I remembered. Milk, bread, veg_ _ _ _ _ _ _ , and the newspaper.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis1s26.mp3", answer: "etables", explain: "Vegetables: Rau c·ªß." },
            { id: 98, type: QuestionType.FIB, text: "I know she likes to _ _ _ _ _ flowers.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis3s18.mp3", answer: "plant", explain: "Plant: Tr·ªìng." },
            { id: 99, type: QuestionType.MC, text: "The rock, paper, scissors world championship was first held in ____.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_111.mp3", options: ["1945", "1394", "1954", "1934"], answer: "1934", explain: "ƒê√°p √°n: 1934." },
            { id: 100, type: QuestionType.MC, text: "How many Tay and Nung language classes were held?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_116.mp3", options: ["8000", "2015", "over 200", "under 100"], answer: "over 200", explain: "over 200." }
        ];

        // --- COMPONENTS ---

        const AudioPlayer = ({ src, autoPlay }) => {
            const audioRef = useRef(null);
            const [isPlaying, setIsPlaying] = useState(false);

            useEffect(() => {
                if (autoPlay && audioRef.current) {
                    audioRef.current.play().catch(() => {});
                }
            }, [src]);

            const toggle = () => {
                if (audioRef.current.paused) audioRef.current.play();
                else audioRef.current.pause();
            };

            return (
                <div className="flex items-center gap-4 bg-indigo-50/50 p-4 rounded-2xl border border-indigo-100 shadow-sm">
                    <button onClick={toggle} className="w-12 h-12 flex items-center justify-center bg-indigo-600 text-white rounded-full hover:bg-indigo-700 transition-all shadow-lg btn-active">
                        {isPlaying ? 
                            <svg className="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg> : 
                            <svg className="w-6 h-6 ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        }
                    </button>
                    <div>
                        <span className="text-sm font-black text-indigo-900 block uppercase tracking-wider">Audio C√¢u H·ªèi</span>
                        <span className="text-xs text-indigo-400 font-bold italic">B·∫•m ƒë·ªÉ nghe √¢m thanh</span>
                    </div>
                    <audio ref={audioRef} src={src} onPlay={() => setIsPlaying(true)} onPause={() => setIsPlaying(false)} onEnded={() => setIsPlaying(false)} className="hidden" />
                </div>
            );
        };

        const QuestionGrid = ({ questions, userAnswers, currentIndex, onJump, onClose }) => {
            const getStatusColor = (q, idx) => {
                const ans = userAnswers.find(a => a.qId === q.id);
                if (idx === currentIndex) return "ring-4 ring-indigo-500 border-indigo-500 text-indigo-700 bg-white shadow-lg";
                if (!ans) return "bg-slate-100 text-slate-400 border-transparent hover:bg-slate-200";
                return ans.isCorrect ? "bg-emerald-500 text-white border-emerald-600 shadow-md" : "bg-rose-500 text-white border-rose-600 shadow-md";
            };

            return (
                <div className="fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in">
                    <div className="bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[85vh] flex flex-col overflow-hidden">
                        <div className="p-6 border-b flex justify-between items-center bg-slate-50">
                            <div>
                                <h2 className="text-xl font-black text-slate-800 tracking-tight">Danh S√°ch C√¢u H·ªèi (100)</h2>
                                <p className="text-sm text-slate-500 font-bold mt-1 uppercase tracking-widest">ƒê√£ l√†m: {userAnswers.length} / {questions.length}</p>
                            </div>
                            <button onClick={onClose} className="p-2 bg-slate-200 hover:bg-slate-300 rounded-xl text-slate-600 transition-all">
                                <svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M6 18L18 6M6 6l12 12" /></svg>
                            </button>
                        </div>
                        <div className="flex-1 overflow-y-auto p-6 custom-scrollbar">
                            <div className="grid grid-cols-5 sm:grid-cols-10 gap-3">
                                {questions.map((q, idx) => (
                                    <button 
                                        key={q.id} 
                                        onClick={() => { onJump(idx); onClose(); }} 
                                        className={`h-10 w-10 rounded-lg font-black text-xs border-2 transition-all btn-active ${getStatusColor(q, idx)}`}
                                    >
                                        {q.id}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [gameState, setGameState] = useState('START');
            const [userName, setUserName] = useState('');
            const [currentIndex, setCurrentIndex] = useState(0);
            const [userAnswers, setUserAnswers] = useState([]);
            const [inputValue, setInputValue] = useState('');
            const [showHint, setShowHint] = useState(false);
            const [showGrid, setShowGrid] = useState(false);
            const [activeQuestions, setActiveQuestions] = useState(QUIZ_DATA);

            const startQuiz = (name) => {
                setUserName(name);
                setGameState('PLAYING');
                setCurrentIndex(0);
                setUserAnswers([]);
                setInputValue('');
                setShowHint(false);
            };

            const handleAnswer = (val) => {
                if (!val.trim()) return;
                const current = activeQuestions[currentIndex];
                const normalize = (s) => s.trim().toLowerCase().replace(/[.,!?;:'"]/g, '').replace(/\s+/g, ' ');
                const isCorrect = normalize(val) === normalize(current.answer);
                
                const newAns = {
                    qId: current.id,
                    userResponse: val,
                    isCorrect
                };
                
                setUserAnswers(prev => [...prev.filter(a => a.qId !== current.id), newAns]);
            };

            const goNext = () => {
                if (currentIndex < activeQuestions.length - 1) {
                    const nextIdx = currentIndex + 1;
                    setCurrentIndex(nextIdx);
                    const existing = userAnswers.find(a => a.qId === activeQuestions[nextIdx].id);
                    setInputValue(existing ? existing.userResponse : '');
                    setShowHint(false);
                } else {
                    setGameState('RESULT');
                }
            };

            const goPrev = () => {
                if (currentIndex > 0) {
                    const prevIdx = currentIndex - 1;
                    setCurrentIndex(prevIdx);
                    const existing = userAnswers.find(a => a.qId === activeQuestions[prevIdx].id);
                    setInputValue(existing ? existing.userResponse : '');
                    setShowHint(false);
                }
            };

            // Global Enter Key Handler
            useEffect(() => {
                const handleKeyDown = (e) => {
                    if (e.key === 'Enter' && gameState === 'PLAYING') {
                        const current = activeQuestions[currentIndex];
                        const answered = userAnswers.find(a => a.qId === current.id);
                        
                        if (answered) {
                            goNext();
                        } else if (inputValue.trim()) {
                            handleAnswer(inputValue);
                        }
                    }
                };
                window.addEventListener('keydown', handleKeyDown);
                return () => window.removeEventListener('keydown', handleKeyDown);
            }, [gameState, currentIndex, userAnswers, inputValue]);

            if (gameState === 'START') {
                return (
                    <div className="min-h-screen flex items-center justify-center bg-indigo-600 p-6">
                        <div className="bg-white rounded-3xl shadow-2xl p-10 max-w-md w-full text-center animate-fade-in">
                            <h1 className="text-3xl font-black text-slate-800 mb-2 tracking-tighter uppercase">LUY·ªÜN NGHE IOE K8</h1>
                            <p className="text-slate-400 mb-8 font-black text-xs tracking-widest uppercase italic">B·ªô ƒë·ªÅ C·∫•p Huy·ªán 100 C√¢u</p>
                            <input 
                                type="text" 
                                placeholder="T√™n c·ªßa b·∫°n..." 
                                className="w-full px-6 py-4 rounded-2xl border-4 border-slate-100 focus:border-indigo-500 outline-none mb-6 text-xl font-black shadow-sm" 
                                onChange={e => setUserName(e.target.value)}
                            />
                            <button 
                                onClick={() => userName.trim() && startQuiz(userName)} 
                                className="w-full py-5 bg-indigo-600 text-white rounded-2xl text-xl font-black shadow-xl hover:bg-indigo-700 active:scale-95 transition-all"
                            >
                                B·∫ÆT ƒê·∫¶U CH∆†I üéØ
                            </button>
                        </div>
                    </div>
                );
            }

            if (gameState === 'RESULT') {
                const correctCount = userAnswers.filter(a => a.isCorrect).length;
                return (
                    <div className="min-h-screen bg-slate-50 flex flex-col items-center justify-center py-10 px-6">
                        <div className="bg-white rounded-3xl shadow-2xl p-10 max-w-2xl w-full text-center animate-fade-in border-4 border-slate-50">
                            <h2 className="text-3xl font-black text-slate-800 mb-8 tracking-tight uppercase">K·∫æT QU·∫¢ C·ª¶A B·∫†N</h2>
                            <div className="text-6xl font-black text-indigo-600 mb-4">{Math.round((correctCount/100)*100)}%</div>
                            <div className="grid grid-cols-2 gap-4 mb-10">
                                <div className="bg-emerald-50 p-6 rounded-2xl">
                                    <div className="text-4xl font-black text-emerald-600">{correctCount}</div>
                                    <div className="text-[10px] uppercase font-black text-emerald-400 mt-2 tracking-widest">ƒê√∫ng</div>
                                </div>
                                <div className="bg-rose-50 p-6 rounded-2xl">
                                    <div className="text-4xl font-black text-rose-600">{activeQuestions.length - correctCount}</div>
                                    <div className="text-[10px] uppercase font-black text-rose-400 mt-2 tracking-widest">Sai</div>
                                </div>
                            </div>
                            <button onClick={() => window.location.reload()} className="px-12 py-5 bg-indigo-600 text-white rounded-2xl font-black shadow-xl hover:bg-indigo-700 transition-all text-xl tracking-tight">CH∆†I L·∫†I T·ª™ ƒê·∫¶U</button>
                        </div>
                    </div>
                );
            }

            const currentQ = activeQuestions[currentIndex];
            const currentAns = userAnswers.find(a => a.qId === currentQ.id);
            const isDone = !!currentAns;

            return (
                <div className="min-h-screen bg-slate-100 flex flex-col items-center py-10 px-6 pb-40">
                    <div className="w-full max-w-3xl flex justify-between items-center mb-6 bg-white p-4 rounded-2xl shadow-sm">
                        <div className="flex flex-col">
                            <span className="text-[10px] font-black text-slate-400 uppercase tracking-widest">H·ªçc vi√™n</span>
                            <span className="font-black text-slate-800 tracking-tight">{userName}</span>
                        </div>
                        <div className="flex gap-3">
                            <button onClick={() => setShowGrid(true)} className="px-4 py-2 bg-indigo-50 text-indigo-600 rounded-xl font-black text-[10px] uppercase tracking-widest">Danh s√°ch</button>
                            <div className="font-black text-indigo-600 px-4 py-2 bg-indigo-50 rounded-xl">
                                {currentIndex + 1} / 100
                            </div>
                        </div>
                    </div>

                    <div className="w-full max-w-3xl bg-white rounded-3xl shadow-xl p-8 sm:p-12 animate-fade-in border-4 border-white">
                        <div className="flex justify-between items-center mb-8">
                            <span className="px-4 py-1.5 bg-indigo-100 text-indigo-700 rounded-full text-[10px] font-black uppercase tracking-widest">ID: #{currentQ.id}</span>
                            {!isDone && (
                                <button onClick={() => setShowHint(!showHint)} className="text-[10px] font-black uppercase text-amber-600 flex items-center gap-1">
                                    {showHint ? "·∫®N G·ª¢I √ù" : "XEM G·ª¢I √ù üí°"}
                                </button>
                            )}
                        </div>

                        <div className="mb-10">
                            <AudioPlayer src={currentQ.audio} autoPlay={true} />
                        </div>

                        {showHint && !isDone && currentQ.type === QuestionType.FIB && (
                            <div className="mb-10 bg-amber-50 p-6 rounded-2xl text-amber-900 border-2 border-amber-100 animate-fade-in">
                                <p className="font-black text-sm uppercase mb-2 text-amber-600">G·ª£i √ù:</p>
                                <p className="font-black text-lg">T·ª´ c√≥ {currentQ.answer.length} ch·ªØ c√°i, b·∫Øt ƒë·∫ßu b·∫±ng: "{currentQ.answer[0].toUpperCase()}"</p>
                            </div>
                        )}

                        <h2 className="text-2xl sm:text-3xl font-black text-slate-800 mb-12 leading-relaxed tracking-tight italic">"{currentQ.text}"</h2>

                        {currentQ.type === QuestionType.MC ? (
                            <div className="grid grid-cols-1 gap-4">
                                {currentQ.options.map((opt, i) => {
                                    const isCorrect = opt === currentQ.answer;
                                    const isSelected = currentAns?.userResponse === opt;
                                    let style = "bg-white border-2 border-slate-100 text-slate-700 hover:border-indigo-500";
                                    if (isDone) {
                                        if (isCorrect) style = "bg-emerald-500 border-emerald-500 text-white shadow-lg";
                                        else if (isSelected) style = "bg-rose-500 border-rose-500 text-white";
                                        else style = "bg-white border-slate-50 text-slate-300 opacity-40";
                                    }
                                    return (
                                        <button 
                                            key={i} 
                                            onClick={() => !isDone && handleAnswer(opt)} 
                                            disabled={isDone} 
                                            className={`p-6 rounded-2xl font-black text-xl transition-all text-left flex items-center gap-4 ${style}`}
                                        >
                                            <span className="w-8 h-8 rounded-lg flex items-center justify-center shrink-0 bg-slate-50 text-xs border border-slate-200">{String.fromCharCode(65+i)}</span>
                                            {opt}
                                        </button>
                                    );
                                })}
                            </div>
                        ) : (
                            <div className="space-y-4">
                                <div className="flex gap-4">
                                    <input 
                                        type="text" 
                                        value={isDone ? currentAns.userResponse : inputValue} 
                                        onChange={e => setInputValue(e.target.value)} 
                                        disabled={isDone} 
                                        autoFocus
                                        placeholder="G√µ ƒë√°p √°n nghe ƒë∆∞·ª£c..." 
                                        className={`flex-1 p-6 rounded-2xl border-4 font-black text-2xl outline-none transition-all ${isDone ? (currentAns.isCorrect ? "bg-emerald-50 border-emerald-500 text-emerald-800" : "bg-rose-50 border-rose-500 text-rose-800") : "bg-slate-50 border-slate-100 focus:border-indigo-500"}`} 
                                    />
                                    {!isDone && (
                                        <button 
                                            onClick={() => inputValue.trim() && handleAnswer(inputValue)} 
                                            className="px-8 py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl hover:bg-indigo-700 transition-all text-lg"
                                        >
                                            N·ªòP
                                        </button>
                                    )}
                                </div>
                                {!isDone && <p className="text-[10px] text-slate-400 font-black uppercase text-center">B·∫•m ENTER ƒë·ªÉ n·ªôp nhanh</p>}
                            </div>
                        )}

                        {isDone && (
                            <div className={`mt-10 p-8 rounded-3xl border-l-8 animate-fade-in ${currentAns.isCorrect ? 'bg-emerald-50 border-emerald-500 text-emerald-900' : 'bg-rose-50 border-rose-500 text-rose-900'}`}>
                                <h4 className="font-black text-2xl mb-2 tracking-tight">{currentAns.isCorrect ? "CH√çNH X√ÅC!" : "CH∆ØA ƒê√öNG!"}</h4>
                                {!currentAns.isCorrect && (
                                    <div className="mb-3">
                                        <span className="text-[10px] font-black uppercase text-rose-400 block mb-1">ƒê√°p √°n:</span>
                                        <span className="font-black text-3xl text-rose-600 uppercase underline-offset-4 answer-underline">{currentQ.answer}</span>
                                    </div>
                                )}
                                <p className="font-bold opacity-75 italic">"{currentQ.explain}"</p>
                                <p className="mt-4 text-[10px] font-black uppercase opacity-50">Nh·∫•n ENTER ƒë·ªÉ ti·∫øp t·ª•c ‚Üí</p>
                            </div>
                        )}
                    </div>

                    <div className="fixed bottom-0 left-0 right-0 bg-white border-t p-6 z-40">
                        <div className="max-w-3xl mx-auto flex justify-between gap-4">
                            <button onClick={goPrev} disabled={currentIndex === 0} className="px-8 py-4 bg-white border-2 border-slate-100 rounded-xl font-black text-slate-300 hover:text-indigo-600 hover:border-indigo-600 disabled:opacity-30 transition-all">‚Üê TR∆Ø·ªöC</button>
                            <button onClick={goNext} disabled={!isDone} className={`flex-1 py-4 rounded-xl font-black text-xl transition-all ${isDone ? "bg-indigo-600 text-white shadow-xl hover:bg-indigo-700" : "bg-slate-100 text-slate-300"}`}>
                                {currentIndex === activeQuestions.length - 1 ? "XEM K·∫æT QU·∫¢ üéâ" : "TI·∫æP THEO ‚Üí"}
                            </button>
                        </div>
                    </div>

                    {showGrid && (
                        <QuestionGrid 
                            questions={activeQuestions} 
                            userAnswers={userAnswers} 
                            currentIndex={currentIndex} 
                            onJump={setCurrentIndex} 
                            onClose={() => setShowGrid(false)} 
                        />
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
